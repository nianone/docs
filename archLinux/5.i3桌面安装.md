# i3

## 基本桌面安装

## 安装所有的软件

```
sudo pacman -S i3-wm i3status/polybar xorg-server xorg-xinit xorg-apps picom feh alacritty 
```



1. **i3-wm** 【必须】是一个高度可定制、动态瓦片式窗口管理器。它允许用户通过键盘快捷键来管理窗口，提高工作效率，特别适用于多显示器环境。
2. ~~**i3status**~~ 【可选】是一个简单的状态栏生成器，它可以在 i3-wm 的栏上显示有关系统状态（如时间、电池状态、网络连接等）的信息。
3. **dmenu** 【可选】是一个轻量级的动态菜单。它可以用于启动应用程序、执行命令或选择其他操作。在 i3-wm 中，dmenu 经常用来快速启动应用程序，因为它可以通过键盘进行交互。

```text
sudo pacman -S i3-wm i3status
```

```text
sudo pacman -S xorg-server xorg-xinit xorg-apps
```

这些工具用于配置、管理和显示 X11 窗口系统的不同方面，包括键盘布局、显示设置、窗口信息等。以下是这些软件包的简要介绍：

1. **xorg-bdftopcf**：将 BDF 字体文件转换为 Portable Compiled Format (PCF) 字体文件的工具。
2. **xorg-iceauth**：用于生成和管理 ICE (Inter-Client Exchange) 验证信息的工具，用于 X11 客户端之间的安全通信。
3. **xorg-mkfontscale**：创建可缩放字体文件索引的工具，用于快速查找和缩放字体。
4. **xorg-sessreg**：将 X11 会话注册到系统的 utmp/utmpx 数据库的工具，记录用户登录和注销的信息。
5. **xorg-setxkbmap**：使用 X Keyboard Extension 设置键盘布局的工具，用于更改键盘映射。
6. **xorg-smproxy**：允许不支持 X11R6 会话管理的 X 应用程序参与 X11R6 会话的 X11 会话管理代理。
7. **xorg-x11perf**：用于测试和评估 X11 服务器性能的简单工具。
8. **xorg-xauth**：X.Org 授权设置程序，用于管理 X11 认证令牌，允许其他用户访问 X11 会话。
9. **xorg-xbacklight**：基于 RandR 的背光控制应用程序，用于调整笔记本电脑显示器的背光亮度。
10. **xorg-xcmsdb**：用于 X Color Management System (CMS) 的设备颜色特性工具。
11. **xorg-xcursorgen**：从 PNG 图像创建 X11 游标文件的工具。
12. **xorg-xdpyinfo**：用于显示 X11 显示的信息的工具。
13. **xorg-xdriinfo**：查询 DRI 驱动程序的配置信息的工具。
14. **xorg-xev**：打印 X11 事件的内容，用于显示和监视 X11 事件。
15. **xorg-xgamma**：更改显示器的 gamma 修正的工具。
16. **xorg-xhost**：X 服务器访问控制程序，用于管理 X11 主机访问控制列表。
17. **xorg-xinput**：配置 X11 输入设备（如鼠标、键盘）的小型命令行工具。
18. **xorg-xkbcomp**：X 键盘描述编译器，用于编译 X11 键盘映射描述。
19. **xorg-xkbevd**：XKB 事件守护程序，用于创建和管理 XKB 事件。
20. **xorg-xkbprint**：生成 XKB 键盘描述的 PostScript 描述的工具。
21. **xorg-xkbutils**：XKB 实用程序演示，用于管理 X11 键盘布局。
22. **xorg-xkill**：通过 X 资源终止客户端的工具。
23. **xorg-xlsatoms**：列出定义在服务器上的国际化 atoms。
24. **xorg-xlsclients**：列出运行在显示器上的客户端应用程序。
25. **xorg-xmodmap**：修改键盘映射和按钮映射的实用程序。
26. **xorg-xpr**：从 xwd 打印 X 窗口转储的工具。
27. **xorg-xprop**：用于显示窗口属性的实用程序。
28. **xorg-xrandr**：用于 RandR 扩展的基本命令行界面。
29. **xorg-xrdb**：X 服务器资源数据库实用程序。
30. **xorg-xrefresh**：刷新 X 屏幕的所有或部分内容的工具。
31. **xorg-xset**：用于设置 X 服务器用户偏好的实用程序。
32. **xorg-xsetroot**：将根窗口背景设置为给定图案或颜色的经典 X 实用程序。
33. **xorg-xvinfo**：打印与通过 X-Video 扩展访问的显示器相关联的视频适配器的功能。
34. **xorg-xwd**：X 窗口系统图像转储实用程序。
35. **xorg-xwininfo**：在 X 服务器上打印窗口信息的命令行实用程序。
36. **xorg-xwud**：X 窗口系统图像还原实用程序。

## 配置

### Xinitrc

`xinitrc` 文件（或称为 Xinitrc）是 X Window System（Xorg）启动时的配置文件，用于在启动 X 会话时运行一系列用户定义的命令或脚本。这个文件通常位于用户的主目录下，路径为 `~/.xinitrc`。

当你使用 `startx` 命令启动 X 会话时，Xorg 会查找并执行 `~/.xinitrc` 文件中的内容。这样，用户可以根据自己的需求，配置和启动特定的应用程序、窗口管理器、桌面环境或其他命令行工具。这使得 Xorg 的启动变得高度可定制，因为用户可以根据自己的喜好和工作流程来决定启动会话时应该加载哪些程序。

编辑 Xinitrc 文件，使得在启动 X 时自动启动 i3-wm，使用以下命令：

```text
echo "exec i3" > ~/.xinitrc
```

### 设置终端显示器

```
sudo pacman -S alacritty
vim ~/.config/i3/config
------------ 将mod+Return exec 后 换成alacritty
bindsym $mod+return exec alacritty
------------
```

### ~~设置i3status~~

```
mkdir -p ~/.config/i3status
cp /etc/i3status.conf ~/.config/i3status/config
vim ~/.config/i3status/config
```

### 设置状态栏polybar

```
sudo pacman -S polybar
mkdir ~/.config/polybar
cp /usr/share/doc/polybar/examples/config.ini ~/.config/polybar/
# 关闭i3status
vim ~/.config/i3/config
-------------注释掉i3status
#bar {
#	status_command i3status
#}
-------------
vim ~/.config/polybar/launch.sh

---------------
#!/bin/bash

killall -q polybar

while pgrep -u $UID -x polybar >/dev/null; do sleep 1; done

polybar &

echo "Polybar launched..."
-----------------------
chmod u+x ~/.config/polybar/launch.sh

vim ~/config/i3/config
-----------------add
exec_always --no-startup-id ~/.config/polybar/launch.sh
-----------------
```

### 设置墙纸feh

```
sudo pacman -S feh
vim ~/.config/i3/config
------------add
exec_always --no-startup-id feh --randomize --bg-fill ~/background/cover.jpg
------------
```



### 重新加载配置

```
$mod + Shift + r
```

### 设置应用选择器rofi

```
sudo pacman -S rofi
vim ~/.config/i3/config


```

### 图形界面显示中文

```
vim ~/.xinitrc
--------------add
export LANG=zh_CN.UTF-8
export LANGUAGE=zh_CN:en_US
export LC_CTYPE=en_US.UTF-8
--------------end
```

http://ocdman.github.io/2017/11/22/Arch%E6%94%AF%E6%8C%81%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/#:~:text=%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%EF%BC%8C%E6%89%93%E5%BC%80i3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20~%2F.config%2Fi3%2Fconfig%20%EF%BC%8C%E5%9C%A8%E9%87%8C%E9%9D%A2%E5%8A%A0%E4%B8%8A%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%201%20exec,--no-startup-id%20fcitx-autostart%20fcitx-autostart%20%E6%98%AF%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%20fcitx%20%E8%BE%93%E5%85%A5%E6%B3%95%E7%9A%84%E5%91%BD%E4%BB%A4%EF%BC%8C%E8%AE%A9%E5%AE%83%E9%9A%8F%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8%E3%80%82

### 安装中文字体

```
sudo pacman -S wqy-microhei
```

### 安装输入法

```
sudo pacman -S fcitx fcitx-im fcitx-configtool

```

```
vim ~/.xinitrc
-----------add
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
-----------end
vim ~/.config/i3/config
----------add

exec --no-startup-id fcitx-autostart
-----------end
```

重启后，进入图形界面，执行命令`fcitx-configtool`来打开输入法配置工具。

可以看到`Input Method`选项里有语言可以选择了。`Global Config`里可以设置切换中英文的热键。接下来喜欢哪种语言作为默认语言，喜欢哪个键来切换中英文全凭个人喜好啦。设置完毕之后，打开Chromium浏览器，或者直接在终端里切换中英文试试呗。此外，还可以下载更多的第三方中文输入法，总有一款适合你。**注意，一定要执行了`fcitx-autostart`命令后，才会在`fcitx-configtool`的`Input Method`里看见语言选项**。由于我已经设置成了开机自启动，所以不需要执行`fcitx-autostart`命令了。

### 安装浏览器

```
yay -S google-chrome
```

### 音频、蓝牙
驱动安装
```text
yay -S pulseaudio pulseaudio-alsa
yay -S  bluez bluez-utils pulseaudio-bluetooth pavucontrol
```
启动蓝牙服务
```text
systemctl enable bluetooth
systemctl start bluetooth

sudo vim /etc/pulse/system.pa

----------add
load-module module-bluetooth-policy
load-module module-bluetooth-discover
----------end
```
https://blog.csdn.net/olnautunm/article/details/109954444#t18

## 安装常用软件

控制台文件管理器、图片预览
```text
yay -S ranger ueberzug
```


```text

```